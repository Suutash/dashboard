<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxia Dashboard</title>
    <style>
        /* Basic Reset & Body Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #000000 0%, #1a0033 25%, #2d1b69 50%, #000000 100%);
            color: white;
            
            min-height: 100vh;
           height: 100vh;  overflow-y: auto; overflow-x: hidden; height: 100vh; }

        /* Dropdown Menu Styles */
        .menu {
            font-size: 16px;
            line-height: 1.6;
            color: #ffffff;
            width: fit-content;
            display: flex;
            list-style: none;
            margin-bottom: 20px;
        }

        .menu a {
            text-decoration: none;
            color: inherit;
            font-family: inherit;
            font-size: inherit;
            line-height: inherit;
        }

        .menu .link {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 12px 36px;
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.48s cubic-bezier(0.23, 1, 0.32, 1);
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
        }

        .menu .link::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            z-index: -1;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.48s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .menu .link svg {
            width: 14px;
            height: 14px;
            fill: #ffffff;
            transition: all 0.48s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .menu .item {
            position: relative;
        }

        .menu .item .submenu {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: absolute;
            top: 100%;
            border-radius: 0 0 16px 16px;
            left: 0;
            width: 100%;
            overflow: hidden;
            border: 1px solid rgba(139, 92, 246, 0.4);
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-12px);
            transition: all 0.48s cubic-bezier(0.23, 1, 0.32, 1);
            z-index: 1000;
            pointer-events: none;
            list-style: none;
        }

        .menu .item:hover .submenu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
            border-top: transparent;
            border-color: #8b5cf6;
        }

        .menu .item:hover .link {
            color: #ffffff;
            border-radius: 16px 16px 0 0;
        }

        .menu .item:hover .link::after {
            transform: scaleX(1);
            transform-origin: right;
        }

        .menu .item:hover .link svg {
            fill: #ffffff;
            transform: rotate(-180deg);
        }

        .submenu .submenu-item {
            width: 100%;
            transition: all 0.48s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .submenu .submenu-link {
            display: block;
            padding: 12px 24px;
            width: 100%;
            position: relative;
            text-align: center;
            transition: all 0.48s cubic-bezier(0.23, 1, 0.32, 1);
            color: rgba(255, 255, 255, 0.8);
        }

        .submenu .submenu-item:last-child .submenu-link {
            border-bottom: none;
        }

        .submenu .submenu-link::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            transform: scaleX(0);
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            z-index: -1;
            transform-origin: left;
            transition: transform 0.48s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .submenu .submenu-link:hover:before {
            transform: scaleX(1);
            transform-origin: right;
        }

        .submenu .submenu-link:hover {
            color: #ffffff;
        }

        /* Loading Screen Styles */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #000000 0%, #1a0033 50%, #2d1b69 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
        }

        .loading-screen.hidden {
            opacity: 0 !important;
            visibility: hidden !important;
            pointer-events: none;
        }

        .loader {
            display: flex;
            width: 8rem;
            height: 8rem;
            justify-content: center;
            align-items: center;
            position: relative;
            flex-direction: column;
        }

        .curve {
            width: 180%;
            height: 180%;
            position: absolute;
            animation: rotate 8s linear infinite;
            fill: transparent;
        }

        .curve text {
            letter-spacing: 20px;
            text-transform: uppercase;
            font: 1.5em "Inter", sans-serif;
            fill: white;
            filter: drop-shadow(0 2px 8px black);
        }

        .blackhole {
            z-index: -1;
            display: flex;
            position: absolute;
            width: 8rem;
            height: 8rem;
            align-items: center;
            justify-content: center;
        }

        .blackhole-circle {
            z-index: 0;
            display: flex;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at center, #8b5cf6 25%, #1a0033 100%);
            box-shadow: 0px 0px 2rem #8b5cf6;
            align-items: center;
            justify-content: center;
        }

        .blackhole-circle::after {
            z-index: 0;
            position: absolute;
            content: "";
            display: flex;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 4px solid #8b5cf6;
            background: radial-gradient(circle at center, #8b5cf6 35%, #1a0033 100%);
            box-shadow: 0px 0px 5rem #8b5cf6;
            align-items: center;
            justify-content: center;
            filter: blur(4px);
            animation: pulseAnimation linear infinite 2s alternate-reverse;
        }

        .blackhole-circle::before {
            z-index: 1;
            content: "";
            display: flex;
            width: 4rem;
            height: 4rem;
            border: 2px solid #8b5cf6;
            box-shadow: 3px 3px 10px #8b5cf6, inset 0 0 1rem #8b5cf6;
            border-radius: 50%;
            top: 5rem;
            filter: blur(0.5px);
            animation: rotate linear infinite 3s;
        }

        .blackhole-disc {
            position: absolute;
            z-index: 0;
            display: flex;
            width: 5rem;
            height: 10rem;
            border-radius: 50%;
            background: radial-gradient(circle at center, #8b5cf6 70%, #1a0033 100%);
            filter: blur(1rem) brightness(130%);
            border: 1rem solid #8b5cf6;
            box-shadow: 0px 0px 3rem #8b5cf6;
            transform: rotate3d(1, 1, 1, 220deg);
            animation: pulseAnimation2 linear infinite 2s alternate-reverse;
            justify-content: center;
            align-items: center;
        }

        .blackhole-disc::before {
            content: "";
            position: absolute;
            z-index: 0;
            display: flex;
            width: 5rem;
            height: 10rem;
            border-radius: 50%;
            background: radial-gradient(circle at center, #8b5cf6 70%, #1a0033 100%);
            filter: blur(3rem);
            border: 1rem solid #8b5cf6;
            box-shadow: 0px 0px 6rem #8b5cf6;
            animation: pulseAnimation linear infinite 2s alternate-reverse;
        }

        .galaxia-text {
            position: absolute;
            z-index: 2;
            font-size: 1.6rem;
            font-weight: bold;
            background: linear-gradient(to right, #1a0033, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 6px rgba(139, 92, 246, 0.5));
            text-align: center;
            pointer-events: none;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes pulseAnimation {
            0% {
                box-shadow: 0px 0px 3rem #8b5cf6;
                transform: scale(1);
            }
            100% {
                box-shadow: 0px 0px 5rem #8b5cf6;
                transform: scale(1.09);
            }
        }

        @keyframes pulseAnimation2 {
            0% {
                box-shadow: 0px 0px 3rem #8b5cf6;
                transform: rotate3d(1, 1, 1, 220deg) scale(1);
            }
            100% {
                box-shadow: 0px 0px 5rem #8b5cf6;
                transform: rotate3d(1, 1, 1, 220deg) scale(0.95);
            }
        }

        /* Auth Screen Styles */
        .auth-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #000000 0%, #1a0033 50%, #2d1b69 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }

        .auth-container.hidden {
            opacity: 0;
            transform: translateY(-100%);
            pointer-events: none;
        }

        .auth-box {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 20px;
            padding: 40px;
            width: 400px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(139, 92, 246, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .auth-title {
            font-size: 2rem;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.3));
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            color: white;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2), 0 0 20px rgba(139, 92, 246, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .form-group input::placeholder, .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn {
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 12px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(139, 92, 246, 0.3);
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: #8b5cf6;
        }

        .error-message {
            color: #ef4444;
            font-size: 14px;
            margin-top: 10px;
            padding: 8px 12px;
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 8px;
            backdrop-filter: blur(10px);
        }

        /* Main App Layout */
        
.main-app {
  display: flex;
  width: 100%;
}


        .main-app.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Sidebar Styles */
        







.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 280px;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(20px);
  border-right: 1px solid rgba(139, 92, 246, 0.2);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 1000;
  scrollbar-color: rgba(139, 92, 246, 1) transparent;
  scrollbar-width: auto;
}









        .sidebar-header {
            padding: 24px 20px;
            border-bottom: 1px solid rgba(139, 92, 246, 0.2);
        }

        .sidebar-logo {
            font-size: 1.8rem;
            font-weight: bold;
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.3));
        }

        .menu-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            display: none;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .menu-toggle:hover {
            background: rgba(139, 92, 246, 0.2);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: rgba(139, 92, 246, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 16px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .user-profile:hover {
            background: rgba(139, 92, 246, 0.15);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.2);
        }

        .user-avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .user-info h4 {
            font-size: 14px;
            margin-bottom: 4px;
            font-weight: 600;
        }

        .user-info p {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }

        
.sidebar-nav {
  padding: 16px 0;
  flex: 1;
  overflow-y: auto;
}


        .nav-section { margin-bottom: 20px;
        }

        .nav-section-title {
            font-size: 11px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 16px;
            padding: 0 20px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 20px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: 14px;
            font-weight: 500;
            position: relative;
            margin: 2px 0;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6, #a855f7);
            transition: width 0.3s ease;
            border-radius: 0 8px 8px 0;
        }

        .nav-item:hover {
            background: rgba(139, 92, 246, 0.1);
            color: white;
            transform: translateX(8px);
        }

        .nav-item:hover::before {
            width: 4px;
        }

        .nav-item.active {
            background: rgba(139, 92, 246, 0.2);
            color: #8b5cf6;
            transform: translateX(8px);
        }

        .nav-item.active::before {
            width: 4px;
        }

        .nav-item-icon {
            font-size: 18px;
            width: 24px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .nav-item:hover .nav-item-icon {
            transform: scale(1.1);
        }

        .logout-btn {
            margin: 20px;
            margin-top: auto;
            background: linear-gradient(45deg, #ef4444, #dc2626);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 14px;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);
        }

        /* Main Content Area */
        
.main-content {
  margin-left: 280px;
  height: 100vh;
  overflow-y: auto;
  flex: 1;
  padding: 32px;
  background: linear-gradient(135deg, #000000 0%, #1a0033 25%, #2d1b69 50%, #000000 100%);
  transition: all 0.3s ease;
}


        .content-header {
            margin-bottom: 32px;
        }

        .content-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 12px;
            background: linear-gradient(45deg, #ffffff, #e5e7eb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .content-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            font-weight: 400;
        }

        /* Dashboard Cards */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .dashboard-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 20px;
            padding: 28px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.5), transparent);
        }

        .dashboard-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.4);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.9);
            margin: 0;
            font-weight: 600;
        }

        .card-icon {
            font-size: 28px;
            opacity: 0.7;
            color: #8b5cf6;
        }

        .card-value {
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-description {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            font-weight: 500;
        }

        /* Content Sections */
        .content-section {
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .content-section.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 20px;
            padding: 28px;
            margin-bottom: 24px;
            transition: all 0.3s ease;
            min-height: calc(100vh - 200px);
        }

        .section-card:hover {
            border-color: rgba(139, 92, 246, 0.3);
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 24px;
            color: #8b5cf6;
            font-weight: 600;
        }

        .search-bar {
            width: 100%;
            padding: 16px 20px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            color: white;
            margin-bottom: 24px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .search-bar:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2), 0 0 20px rgba(139, 92, 246, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .search-bar::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Script/Game Cards Grid */
        .item-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }

        .list-item {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .list-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.5), transparent);
        }

        .list-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.4);
        }

        .item-info {
            margin-bottom: 20px;
        }

        .item-icon {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            background: linear-gradient(45deg, rgba(139, 92, 246, 0.2), rgba(168, 85, 247, 0.2));
            display: flex;
            align-items: center;
            justify-content: center;
            color: #8b5cf6;
            font-size: 24px;
            margin-bottom: 16px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            transition: all 0.3s ease;
        }

        .item-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }

        .list-item:hover .item-icon {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
        }

        .item-details h3 {
            margin-bottom: 8px;
            color: #ffffff;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .item-details p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .item-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .action-btn {
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.4);
            color: #8b5cf6;
            padding: 10px 16px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 13px;
            font-weight: 600;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }

        .action-btn:hover::before {
            left: 100%;
        }

        .action-btn:hover {
            background: rgba(139, 92, 246, 0.3);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
        }

        .action-btn.danger {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
            color: #ef4444;
        }

        .action-btn.danger:hover {
            background: rgba(239, 68, 68, 0.3);
            color: white;
            box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
        }

        /* Wide join button for games */
        .action-btn.wide {
            flex: 1;
            min-width: 100%;
            justify-content: center;
            display: flex;
            align-items: center;
        }

        /* Executor Restriction Styles */
        .executor-restricted {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 400px;
            text-align: center;
            background: rgba(239, 68, 68, 0.1);
            border: 2px dashed rgba(239, 68, 68, 0.3);
            border-radius: 20px;
            padding: 40px;
        }

        .restriction-icon {
            font-size: 4rem;
            color: #ef4444;
            margin-bottom: 20px;
        }

        .restriction-title {
            font-size: 1.5rem;
            color: #ef4444;
            margin-bottom: 16px;
            font-weight: 600;
        }

        .restriction-message {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 24px;
            line-height: 1.6;
        }

        .restriction-btn {
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .restriction-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }

        /* Executor Styles */
        .executor-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 20px;
            padding: 24px;
            height: 600px;
            display: flex;
            flex-direction: column;
        }

        .executor-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .executor-tab {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            color: white;
            padding: 12px 16px;
            border-radius: 12px 12px 0 0;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .executor-tab.active {
            background: rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.4);
        }

        .executor-tab:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .tab-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .tab-close:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .add-tab-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(139, 92, 246, 0.3);
            color: white;
            padding: 12px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .add-tab-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            transform: translateY(-2px);
        }

        .code-editor {
            flex: 1;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            padding: 20px;
            color: #e5e7eb;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            font-size: 14px;
            resize: none;
            outline: none;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .code-editor:focus {
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
        }

        .executor-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .executor-btn {
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 14px;
            position: relative;
            overflow: hidden;
        }

        .executor-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .executor-btn:hover::before {
            left: 100%;
        }

        .executor-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }

        .executor-btn.secondary {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(139, 92, 246, 0.3);
            backdrop-filter: blur(10px);
        }

        .executor-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: #8b5cf6;
        }

        /* Activity Feed */
        .activity-feed {
            display: grid;
            grid-template-columns: 1fr; /* Changed to single column */
            gap: 24px;
            margin-top: 32px;
        }

        .activity-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 20px;
            padding: 28px;
            transition: all 0.3s ease;
        }

        .activity-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(139, 92, 246, 0.2);
        }

        .activity-title {
            font-size: 1.3rem;
            margin-bottom: 16px;
            color: #8b5cf6;
            font-weight: 600;
        }

        .activity-subtitle {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 24px;
            font-size: 14px;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid rgba(139, 92, 246, 0.1);
            transition: all 0.3s ease;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-item:hover {
            transform: translateX(4px);
        }

        .activity-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }

        .subscription-feature {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 0;
            border-bottom: 1px solid rgba(139, 92, 246, 0.1);
            transition: all 0.3s ease;
        }

        .subscription-feature:last-child {
            border-bottom: none;
        }

        .subscription-feature:hover {
            transform: translateX(4px);
        }

        .feature-icon {
            color: #8b5cf6;
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        .feature-text {
            flex: 1;
        }

        .feature-title {
            font-weight: 600;
            margin-bottom: 4px;
            color: rgba(255, 255, 255, 0.9);
        }

        .feature-description {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.4;
        }

        /* No Orders Display */
        .no-orders-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - 300px);
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
        }

        .no-orders-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .no-orders-title {
            font-size: 1.5rem;
            margin-bottom: 12px;
            color: rgba(255, 255, 255, 0.8);
        }

        .no-orders-message {
            font-size: 1rem;
            line-height: 1.6;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 20px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            transform: scale(0.8);
            transition: transform 0.3s ease;
            position: relative;
        }

        .modal.show .modal-content {
            transform: scale(1);
        }

        .modal-title {
            font-size: 1.5rem;
            margin-bottom: 24px;
            color: #8b5cf6;
            font-weight: 600;
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }

        /* Enhanced Order Confirmation Modal */
        .order-confirmation-modal .modal-content {
            max-width: 600px;
            text-align: center;
        }

        .order-success-icon {
            font-size: 4rem;
            color: #10b981;
            margin-bottom: 20px;
        }

        .order-details {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
        }

        .screenshot-instruction {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 12px;
            padding: 16px;
            margin: 20px 0;
            color: #ffc107;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .screenshot-instruction-icon {
            font-size: 1.5rem;
        }

        /* Discord Invitation Modal */
        .discord-modal .modal-content {
            text-align: center;
            background: linear-gradient(135deg, rgba(88, 101, 242, 0.1), rgba(139, 92, 246, 0.1));
            border-color: #5865f2;
        }

        .discord-icon {
            font-size: 4rem;
            color: #5865f2;
            margin-bottom: 20px;
        }

        .discord-title {
            color: #5865f2;
            font-size: 1.8rem;
            margin-bottom: 16px;
        }

        .discord-message {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 24px;
            line-height: 1.6;
        }

        .discord-btn {
            background: #5865f2;
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            margin-right: 12px;
            transition: all 0.3s ease;
        }

        .discord-btn:hover {
            background: #4752c4;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(88, 101, 242, 0.4);
        }

        /* Settings Styles */
        .settings-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 20px;
            padding: 28px;
            margin-bottom: 24px;
            transition: all 0.3s ease;
        }

        .settings-section:hover {
            border-color: rgba(139, 92, 246, 0.3);
        }

        .settings-title {
            font-size: 1.3rem;
            margin-bottom: 24px;
            color: #8b5cf6;
            font-weight: 600;
        }

        .file-input-wrapper {
            position: relative;
            display: inline-block;
            cursor: pointer;
            background: linear-gradient(45deg, #8b5cf6, #a855f7);
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 600;
            overflow: hidden;
        }

        .file-input-wrapper::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .file-input-wrapper:hover::before {
            left: 100%;
        }

        .file-input-wrapper:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }

        .file-input-wrapper input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            






.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 280px;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(20px);
  border-right: 1px solid rgba(139, 92, 246, 0.2);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 1000;
  scrollbar-color: rgba(139, 92, 246, 1) transparent;
  scrollbar-width: auto;
}








            .sidebar.open {
                transform: translateX(0);
            }

            
.main-content {
  margin-left: 280px;
  height: 100vh;
  overflow-y: auto;
  flex: 1;
  padding: 32px;
  background: linear-gradient(135deg, #000000 0%, #1a0033 25%, #2d1b69 50%, #000000 100%);
  transition: all 0.3s ease;
}


            .menu-toggle {
                display: block;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .activity-feed {
                grid-template-columns: 1fr;
            }

            .item-list {
                grid-template-columns: 1fr;
            }

            .content-title {
                font-size: 2rem;
            }
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .admin-only {
            display: none;
        }

        .admin-only.show {
            display: block;
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.3);
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(139, 92, 246, 0.5);
        }

        /* Selection styling */
        ::selection {
            background: rgba(139, 92, 246, 0.3);
            color: white;
        }

        /* Focus styles for accessibility */
        *:focus {
            outline: 2px solid rgba(139, 92, 246, 0.5);
            outline-offset: 2px;
        }

        button:focus,
        input:focus,
        textarea:focus {
            outline: none;
        }

        /* Custom Icons (using text for simplicity, can be replaced with font-awesome or similar) */
        .icon-home::before { content: "ðŸ "; }
        .icon-gamepad::before { content: "ðŸŽ®"; }
        .icon-script::before { content: "ðŸ“œ"; }
        .icon-document::before { content: "ðŸ“"; }
        .icon-lightning::before { content: "âš¡"; }
        .icon-settings::before { content: "âš™ï¸"; }
        .icon-ticket::before { content: "ðŸŽ«"; }
        .icon-question::before { content: "â“"; }
        .icon-users::before { content: "ðŸ‘¥"; }
        .icon-clipboard::before { content: "ðŸ“‹"; }
        .icon-user::before { content: "ðŸ‘¤"; }
        .icon-clock::before { content: "â°"; }
        .icon-star::before { content: "â­"; }
        .icon-check::before { content: "âœ…"; }
        .icon-camera::before { content: "ðŸ“¸"; }
        .icon-lock::before { content: "ðŸ”’"; }
        .icon-error::before { content: "âŒ"; } /* For general error/restriction */

        /* From Uiverse.io by MikeeMikee */
.featured-game-card {
  background: rgba(255, 255, 255, 0.04);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 20px;
  transition: 0.3s;
}

.featured-game-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
} 
        .button {
            cursor: pointer;
            border: none;
            background: #5865f2;
            color: #fff;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            overflow: hidden;
            position: relative;
            display: grid;
            place-content: center;
            transition:
                background 300ms,
                transform 200ms;
            font-weight: 600;
        }

        .button__text {
            position: absolute;
            inset: 0;
            animation: text-rotation 8s linear infinite;
        }

        .button__text > span {
            position: absolute;
            transform: rotate(calc(22deg * var(--index)));
            inset: 7px;
        }

        .button__circle {
            position: relative;
            width: 40px;
            height: 40px;
            overflow: hidden;
            background: #212121;
            color: #5865f2;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .button__icon--copy {
            position: absolute;
            transform: translate(-150%, 150%);
        }

        .button:hover {
            background: #000;
            transform: scale(1.05);
        }

        .button:hover .button__icon {
            color: #fff;
        }

        .button:hover .button__icon:first-child {
            transition: transform 0.3s ease-in-out;
            transform: translate(150%, -150%);
        }

        .button:hover .button__icon--copy {
            transition: transform 0.3s ease-in-out 0.1s;
            transform: translate(0);
        }

        @keyframes text-rotation {
            to {
                rotate: 360deg;
            }
        }

        .button:active {
            transform: scale(0.95);
        }

        







.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 280px;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(20px);
  border-right: 1px solid rgba(139, 92, 246, 0.2);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 1000;
  scrollbar-color: rgba(139, 92, 246, 1) transparent;
  scrollbar-width: auto;
}










        /* Adjust main content margin based on sidebar width */
        
.main-app {
  display: flex;
  width: 100%;
}


        
.main-content {
  margin-left: 280px;
  height: 100vh;
  overflow-y: auto;
  flex: 1;
  padding: 32px;
  background: linear-gradient(135deg, #000000 0%, #1a0033 25%, #2d1b69 50%, #000000 100%);
  transition: all 0.3s ease;
}


        /* Dynamic margin adjustment using JavaScript */
        body.sidebar-expanded 
.main-content {
  margin-left: 280px;
  height: 100vh;
  overflow-y: auto;
  flex: 1;
  padding: 32px;
  background: linear-gradient(135deg, #000000 0%, #1a0033 25%, #2d1b69 50%, #000000 100%);
  transition: all 0.3s ease;
}


        
    
/* Scrollable tools dropdown */



/* Custom Scrollbar for Sidebar */
.sidebar::-webkit-scrollbar {
  width: 8px;
}
.sidebar::-webkit-scrollbar-track {
  background: transparent;
}
.sidebar::-webkit-scrollbar-thumb {
  background-color: rgba(139, 92, 246, 0.4);
  border-radius: 4px;
}
.sidebar::-webkit-scrollbar-thumb:hover {
  background-color: rgba(139, 92, 246, 0.6);
}


/* Force Sidebar Scrollbar Visibility */
.sidebar::-webkit-scrollbar {
  width: 10px;
}
.sidebar::-webkit-scrollbar-track {
  background: #1a0033;
}
.sidebar::-webkit-scrollbar-thumb {
  background-color: #8b5cf6;
  border-radius: 6px;
}


.sidebar {
  overflow-y: auto !important;
  scrollbar-width: thin;
}
.sidebar::-webkit-scrollbar {
  width: 8px;
}
.sidebar::-webkit-scrollbar-track {
  background: transparent;
}
.sidebar::-webkit-scrollbar-thumb {
  background-color: rgba(139, 92, 246, 0.4);
  border-radius: 4px;
}
.sidebar::-webkit-scrollbar-thumb:hover {
  background-color: rgba(139, 92, 246, 0.6);
}

</style>

<style>
  .icon-home::before,
  .icon-gamepad::before,
  .icon-script::before,
  .icon-document::before,
  .icon-lightning::before,
  .icon-settings::before,
  .icon-ticket::before,
  .icon-question::before,
  .icon-users::before,
  .icon-clipboard::before,
  .icon-user::before,
  .icon-clock::before,
  .icon-star::before,
  .icon-check::before,
  .icon-camera::before,
  .icon-lock::before,
  .icon-error::before {
    content: none;
  }
</style>

</head>
<body>
    <!-- Loading Screen -->
<div class="loading-screen" id="loadingScreen">
    <div class="loader">
        <div class="blackhole">
            <div class="blackhole-circle"></div>
            <div class="blackhole-disc"></div>
            <div class="galaxia-text">Galaxia</div>
        </div>
        <div class="curve">
            <svg viewBox="0 0 500 500">
                <path id="loading" d="M73.2,148.6c4-6.1,65.5-96.8,178.6-95.6c111.3,1.2,170.8,90.3,175.1,97"></path>
                <text width="500">
                    <textPath xlink:href="#loading">loading...</textPath>
                </text>
            </svg>
        </div>
    </div>
    <!-- Skip button for debugging -->
    <button onclick="skipLoading()" style="position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%); background: rgba(139, 92, 246, 0.3); border: 1px solid #8b5cf6; color: white; padding: 10px 20px; border-radius: 8px; cursor: pointer;">
        Skip Loading
    </button>
</div>

    <!-- Auth Container -->
    <div class="auth-container" id="authContainer">
        <div class="auth-box">
            <h1 class="auth-title">Welcome to Galaxia</h1>
            
            <!-- Login Form -->
            <div id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button class="btn" onclick="login()">Login</button>
                <button class="btn btn-secondary" onclick="showRegister()">Create Account</button>
                <div class="error-message" id="loginError"></div>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="hidden">
                <div class="form-group">
                    <label for="registerUsername">Username</label>
                    <input type="text" id="registerUsername" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" required>
                </div>
                <button class="btn" onclick="register()">Register</button>
                <button class="btn btn-secondary" onclick="showLogin()">Back to Login</button>
                <div class="error-message" id="registerError"></div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div class="main-app" id="mainApp">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    Galaxia
                    <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
                </div>
                <div class="user-profile">
                    <div class="user-avatar" id="sidebarAvatar">U</div>
                    <div class="user-info">
                        <h4 id="sidebarUsername">Welcome, User</h4>
                        <p id="sidebarUserType">NaN days left</p>
                    </div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">MAIN</div>
                    <button class="nav-item active" onclick="switchSection('dashboard')">
                        <span class="nav-item-icon icon-home"></span>
                        Dashboard
                    </button>
                    <button class="nav-item" onclick="switchSection('games')">
                        <span class="nav-item-icon icon-gamepad"></span>
                        Games
                    </button>
                    <button class="nav-item" onclick="switchSection('scripthub')">
                        <span class="nav-item-icon icon-script"></span>
                        Script Hub
                    </button>
                    <button class="nav-item" onclick="switchSection('scripts')">
                        <span class="nav-item-icon icon-document"></span>
                        My Scripts
                    </button>
                    <button class="nav-item" onclick="switchSection('executor')">
                        <span class="nav-item-icon icon-lightning"></span>
                        Executor
                    </button>
                </div>

                <div class="nav-section" id="toolsDropdown">
                    <div class="nav-section-title">TOOLS</div>
                    <div class="nav-items-container">
                        <button class="nav-item" onclick="switchSection('settings')">
                            <span class="nav-item-icon icon-settings"></span>
                            Settings
                        </button>
                        <button class="nav-item" onclick="switchSection('redeem')">
                            <span class="nav-item-icon icon-ticket"></span>
                            Redeem Key
                        </button>
                        <button class="nav-item" onclick="switchSection('support')">
                            <span class="nav-item-icon icon-question"></span>
                            Support
                        </button>
                        <button class="nav-item admin-only" onclick="switchSection('whitelist')">
                            <span class="nav-item-icon icon-users"></span>
                            Whitelist
                        </button>
                        <button class="nav-item admin-only" onclick="switchSection('orders')">
                            <span class="nav-item-icon icon-clipboard"></span>
                            Orders
                        </button>
                    </div>
                </div>
            </nav>

            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <!-- Dashboard Section -->
            <div class="content-section active" id="dashboardSection">
                <div class="content-header">
                    <h1 class="content-title">Dashboard</h1>
                    <p class="content-subtitle" id="welcomeMessage">Welcome back to Galaxia, User!</p>
                </div>

                <!-- Dropdown Menu Example -->
                <div class="menu">
                    <div class="item">
                        <a href="#" class="link">
                            <span>Quick Actions</span>
                            <svg viewBox="0 0 360 360" xml:space="preserve">
                                <g id="SVGRepo_iconCarrier">
                                    <path id="XMLID_225_" d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"></path>
                                </g>
                            </svg>
                        </a>
                        <div class="submenu">
                            <div class="submenu-item">
                                <a href="#" class="submenu-link" onclick="switchSection('executor')">Open Executor</a>
                            </div>
                            <div class="submenu-item">
                                <a href="#" class="submenu-link" onclick="switchSection('scripthub')">Browse Scripts</a>
                            </div>
                            <div class="submenu-item">
                                <a href="#" class="submenu-link" onclick="switchSection('games')">Join Games</a>
                            </div>
                            <div class="submenu-item">
                                <a href="#" class="submenu-link" onclick="switchSection('settings')">Settings</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Available Games</h3>
                            <span class="card-icon icon-gamepad"></span>
                        </div>
                        <div class="card-value" id="gameCount">1</div>
                        <div class="card-description">Games ready to play</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Script Hub</h3>
                            <span class="card-icon icon-script"></span>
                        </div>
                        <div class="card-value">50+</div>
                        <div class="card-description">Scripts available</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">My Scripts</h3>
                            <span class="card-icon icon-document"></span>
                        </div>
                        <div class="card-value" id="userScriptCount">0</div>
                        <div class="card-description">Personal scripts</div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Account Status</h3>
                            <span class="card-icon icon-user"></span>
                        </div>
                        <div class="card-value" id="accountStatus">User</div>
                        <div class="card-description" id="timeLeft">NaN days left</div>
                    </div>
                </div>

                <div class="activity-feed">
                    <div class="activity-card">
                        <h3 class="activity-title">Subscription Details</h3>
                        <p class="activity-subtitle">Your current plan and benefits</p>
                        <div class="subscription-feature">
                            <span class="feature-icon icon-star"></span>
                            <div class="feature-text">
                                <div class="feature-title">Premium Access</div>
                                <div class="feature-description">Full access to all features and scripts</div>
                            </div>
                        </div>
                        <div class="subscription-feature">
                            <span class="feature-icon icon-lightning"></span>
                            <div class="feature-text">
                                <div class="feature-title">Script Executor</div>
                                <div class="feature-description">Execute unlimited Lua scripts</div>
                            </div>
                        </div>
                        <div class="subscription-feature">
                            <span class="feature-icon icon-gamepad"></span>
                            <div class="feature-text">
                                <div class="feature-title">Game Library</div>
                                <div class="feature-description">Access to curated game collection</div>
                            </div>
                        </div>
                        <div class="subscription-feature">
                            <span class="feature-icon icon-document"></span>
                            <div class="feature-text">
                                <div class="feature-title">Script Storage</div>
                                <div class="feature-description">Save and manage your scripts</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Games Section -->
            <div class="content-section" id="gamesSection">
                <div class="content-header">
                    <h1 class="content-title">Games</h1>
                    <p class="content-subtitle">Browse and join available games</p>
                </div>

                <div class="section-card">
                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <input type="text" class="search-bar" placeholder="Search games..." id="gameSearch" oninput="searchGames()" style="margin-bottom: 0; flex: 1;">
                        <button class="btn admin-only" onclick="showAddGameModal()" style="white-space: nowrap;">Add Game</button>
                    </div>
                    <div class="item-list" id="gamesList">
                        
<!-- Featured Game Card -->
<div class="list-item featured-game-card">
  <div class="item-info" style="display: flex; align-items: center; gap: 20px;">
    <img src="https://upload.wikimedia.org/wikipedia/en/3/33/Subway_Surfers_app_icon.png" alt="Subway Surfers" style="width: 80px; height: 80px; border-radius: 20px;">
    <div>
      <h3 style="font-size: 1.2rem; margin-bottom: 6px;">Subway Surfers</h3>
      <p style="font-size: 13px; color: rgba(255,255,255,0.7); max-width: 360px;">
        Subway Surfers is a popular endless runner mobile game where players dodge obstacles and collect coins while running through subway tracks.
      </p>
      <button class="btn" style="margin-top: 10px; width: fit-content; font-size: 13px;">
        <i class="fa-solid fa-download" style="margin-right: 6px;"></i> Download Now
      </button>
    </div>
  </div>
</div>

                    </div>
                </div>
            </div>

            <!-- Script Hub Section -->
            <div class="content-section" id="scripthubSection">
                <div class="content-header">
                    <h1 class="content-title">Script Hub</h1>
                    <p class="content-subtitle">Discover and use popular Roblox scripts</p>
                </div>

                <div class="section-card">
                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <input type="text" class="search-bar" placeholder="Search scripts..." id="scriptSearch" oninput="searchScripts()" style="margin-bottom: 0; flex: 1;">
                        <button class="btn admin-only" onclick="showAddHubScriptModal()" style="white-space: nowrap;">Add Script</button>
                    </div>
                    
                    <div class="item-list" id="allScripts">
                        <!-- All scripts will be populated here -->
                    </div>
                </div>
            </div>

            <!-- My Scripts Section -->
            <div class="content-section" id="scriptsSection">
                <div class="content-header">
                    <h1 class="content-title">My Scripts</h1>
                    <p class="content-subtitle">Manage your personal script collection</p>
                </div>

                <div class="section-card">
                    <input type="text" class="search-bar" placeholder="Search my scripts..." id="myScriptSearch" oninput="searchMyScripts()">
                    <button class="btn" onclick="showAddScriptModal()" style="margin-bottom: 20px;">Add New Script</button>
                    <div class="item-list" id="myScriptsList">
                        <!-- User scripts will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Executor Section -->
            <div class="content-section" id="executorSection">
                <!-- The content of this section will be dynamically loaded by JavaScript -->
            </div>

            <!-- Whitelist Section -->
            <div class="content-section" id="whitelistSection">
                <div class="content-header">
                    <h1 class="content-title">User Whitelist</h1>
                    <p class="content-subtitle">Manage user access and blacklist status</p>
                </div>

                <div class="section-card">
                    <input type="text" class="search-bar" placeholder="Search users..." id="userSearch" oninput="searchUsers()">
                    <div class="item-list" id="userList">
                        <!-- User list will be populated here by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Orders Section -->
            <div class="content-section" id="ordersSection">
                <div class="content-header">
                    <h1 class="content-title">Pending Orders</h1>
                    <p class="content-subtitle">Review and fulfill user access key requests</p>
                </div>

                <div class="section-card">
                    <div class="item-list" id="ordersList">
                        <!-- Orders list will be populated here by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="content-section" id="settingsSection">
                <div class="content-header">
                    <h1 class="content-title">Settings</h1>
                    <p class="content-subtitle">Manage your account and preferences</p>
                </div>

                <div class="settings-section">
                    <h2 class="settings-title">Profile Settings</h2>
                    <div class="form-group">
                        <label>Profile Picture</label>
                        <div class="file-input-wrapper">
                            <input type="file" id="profilePicInput" accept="image/*" onchange="updateProfilePic()">
                            Upload Picture
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="newUsername">Username</label>
                        <input type="text" id="newUsername" placeholder="Enter new username">
                    </div>
                    <div class="form-group">
                        <label for="newEmail">Email</label>
                        <input type="email" id="newEmail" placeholder="Enter new email">
                    </div>
                    <div class="form-group">
                        <label for="newPassword">New Password</label>
                        <input type="password" id="newPassword" placeholder="Enter new password">
                    </div>
                    <button class="btn" onclick="updateProfile()">Update Profile</button>
                </div>

                <div class="settings-section">
                    <h2 class="settings-title">Roblox Connection</h2>
                    <p style="margin-bottom: 15px;">Connect your Roblox account to execute scripts.</p>
                    <div id="robloxConnectionContainer">
                        <!-- This content will be dynamically updated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Redeem Key Section -->
            <div class="content-section" id="redeemSection">
                <div class="content-header">
                    <h1 class="content-title">Redeem Key</h1>
                    <p class="content-subtitle">Extend your access with a redemption key</p>
                </div>

                <div class="settings-section">
                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <input type="text" class="search-bar" id="keyInput" placeholder="Enter your access key" style="margin-bottom: 0;">
                        <button class="btn" onclick="redeemKey()">Redeem</button>
                    </div>
                    <div id="keyMessage" class="error-message"></div>
                    
                    <div class="dashboard-card" style="margin: 20px 0;">
                        <div class="card-header">
                            <h3 class="card-title">Remaining Access Time</h3>
                            <span class="card-icon icon-clock"></span>
                        </div>
                        <div class="card-value" id="accessTimeLeft">0d 0h 0m 0s</div>
                        <div class="card-description">Time until expiration</div>
                    </div>

                    <button class="btn" onclick="showBuyModal()" style="background: linear-gradient(45deg, #10b981, #059669);">Don't have a key? Buy now</button>
                </div>
            </div>

            <!-- Support Section -->
            <div class="content-section" id="supportSection">
                <div class="content-header">
                    <h1 class="content-title">Support</h1>
                    <p class="content-subtitle">Get help and join our community</p>
                </div>

                <div class="section-card" style="text-align: center; padding: 60px 20px;">
                    <h2 style="font-size: 1.5rem; margin-bottom: 30px; color: #e5e7eb;">Need Help? Join our support server</h2>
                    <button class="button" onclick="joinDiscord()">
                        <p class="button__text">
                            <span style="--index: 0;">D</span>
                            <span style="--index: 1;">I</span>
                            <span style="--index: 2;">S</span>
                            <span style="--index: 3;">C</span>
                            <span style="--index: 4;">O</span>
                            <span style="--index: 5;">R</span>
                            <span style="--index: 6;">D</span>
                            <span style="--index: 7;"> </span>
                            <span style="--index: 8;">D</span>
                            <span style="--index: 9;">I</span>
                            <span style="--index: 10;">S</span>
                            <span style="--index: 11;">C</span>
                            <span style="--index: 12;">O</span>
                            <span style="--index: 13;">R</span>
                            <span style="--index: 14;">D</span>
                        </p>
                        <div class="button__circle">
                            <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="button__icon" width="25">
                                <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" fill="currentColor"></path>
                            </svg>
                            <svg viewBox="0 0 16 16" fill="none" width="25" xmlns="http://www.w3.org/2000/svg" class="button__icon button__icon--copy">
                                <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" fill="currentColor"></path>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Script Modal -->
    <div class="modal" id="addScriptModal">
        <div class="modal-content">
            <h2 class="modal-title">Add New Script</h2>
            <div class="form-group">
                <label for="scriptName">Script Name</label>
                <input type="text" id="scriptName" placeholder="Enter script name">
            </div>
            <div class="form-group">
                <label for="scriptImage">Script Image URL (Optional)</label>
                <input type="url" id="scriptImage" placeholder="Enter image URL">
            </div>
            <div class="form-group">
                <label for="scriptContent">Script Content</label>
                <textarea id="scriptContent" rows="10" style="width: 100%; padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3);" placeholder="Enter your script code"></textarea>
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="addScript()">Add Script</button>
                <button class="btn btn-secondary" onclick="closeModal('addScriptModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Game Modal (New) -->
    <div class="modal" id="addGameModal">
        <div class="modal-content">
            <h2 class="modal-title">Add New Game</h2>
            <div class="form-group">
                <label for="gameName">Game Name</label>
                <input type="text" id="gameName" placeholder="Enter game name">
            </div>
            <div class="form-group">
                <label for="gameDescription">Game Description</label>
                <textarea id="gameDescription" rows="3" style="width: 100%; padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3);" placeholder="Enter game description"></textarea>
            </div>
            <div class="form-group">
                <label for="gameImageURL">Game Image URL (Optional)</label>
                <input type="url" id="gameImageURL" placeholder="Enter image URL for the game">
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="addGame()">Add Game</button>
                <button class="btn btn-secondary" onclick="closeModal('addGameModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Buy Key Modal -->
    <div class="modal" id="buyModal">
        <div class="modal-content">
            <h2 class="modal-title">Purchase Access Key</h2>
            <div class="form-group">
                <label for="buyEmail">Email</label>
                <input type="email" id="buyEmail" required>
            </div>
            <div class="form-group">
                <label for="buyUsername">Username</label>
                <input type="text" id="buyUsername" required>
            </div>
            <div class="form-group">
                <label>Payment Method</label>
                <div class="menu" style="width: 100%;">
                    <div class="item" style="width: 100%;">
                        <a href="#" class="link" style="width: 100%; justify-content: space-between;">
                            <span id="selectedPaymentMethod">Select Payment Method</span>
                            <svg viewBox="0 0 360 360" xml:space="preserve" style="width: 14px; height: 14px; fill: #ffffff;">
                                <g id="SVGRepo_iconCarrier">
                                    <path id="XMLID_225_" d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"></path>
                                </g>
                            </svg>
                        </a>
                        <div class="submenu">
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="robux" onclick="selectDropdownOption('paymentMethod', 'robux', 'Robux')">Robux</a></div>
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="cashapp" onclick="selectDropdownOption('paymentMethod', 'cashapp', 'Cash App')">Cash App</a></div>
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="paypal" onclick="selectDropdownOption('paymentMethod', 'paypal', 'PayPal')">PayPal</a></div>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="paymentMethod" value="">
            </div>
            <div class="form-group">
                <label>Subscription Plan</label>
                <div class="menu" style="width: 100%;">
                    <div class="item" style="width: 100%;">
                        <a href="#" class="link" style="width: 100%; justify-content: space-between;">
                            <span id="selectedSubscription">Select Plan</span>
                            <svg viewBox="0 0 360 360" xml:space="preserve" style="width: 14px; height: 14px; fill: #ffffff;">
                                <g id="SVGRepo_iconCarrier">
                                    <path id="XMLID_225_" d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"></path>
                                </g>
                            </svg>
                        </a>
                        <div class="submenu">
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="standard" onclick="selectDropdownOption('subscription', 'standard', 'Standard - $20 / 200 Robux')">Standard - $20 / 200 Robux</a></div>
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="premium" onclick="selectDropdownOption('subscription', 'premium', 'Premium - $30 / 500 Robux')">Premium - $30 / 500 Robux</a></div>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="subscription" value="">
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="generateOrder()">Generate Order</button>
                <button class="btn btn-secondary" onclick="closeModal('buyModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Order Confirmation Modal -->
    <div class="modal order-confirmation-modal" id="orderConfirmationModal">
        <div class="modal-content">
            <div class="order-success-icon icon-check"></div>
            <h2 class="modal-title">Order Generated Successfully!</h2>
            
            <div class="order-details" id="orderDetailsContent">
                <!-- Order details will be populated here -->
            </div>
            
            <div class="screenshot-instruction">
                <span class="screenshot-instruction-icon icon-camera"></span>
                <span>Screenshot this and send it to support to complete your purchase!</span>
            </div>
            
            <div class="modal-buttons">
                <button class="btn" onclick="showDiscordModal()">Continue</button>
            </div>
        </div>
    </div>

    <!-- Discord Invitation Modal -->
    <div class="modal discord-modal" id="discordModal">
        <div class="modal-content">
            <div class="discord-icon icon-gamepad"></div>
            <h2 class="discord-title">Join Our Discord Server!</h2>
            <p class="discord-message">
                Connect with our community, get support, and stay updated with the latest features and announcements.
            </p>
            <div class="modal-buttons">
                <button class="button" onclick="joinDiscord()">
                    <p class="button__text">
                        <span style="--index: 0;">D</span>
                        <span style="--index: 1;">I</span>
                        <span style="--index: 2;">S</span>
                        <span style="--index: 3;">C</span>
                        <span style="--index: 4;">O</span>
                        <span style="--index: 5;">R</span>
                        <span style="--index: 6;">D</span>
                        <span style="--index: 7;"> </span>
                        <span style="--index: 8;">D</span>
                        <span style="--index: 9;">I</span>
                        <span style="--index: 10;">S</span>
                        <span style="--index: 11;">C</span>
                        <span style="--index: 12;">O</span>
                        <span style="--index: 13;">R</span>
                        <span style="--index: 14;">D</span>
                    </p>
                    <div class="button__circle">
                        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="button__icon" width="25">
                            <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" fill="currentColor"></path>
                        </svg>
                        <svg viewBox="0 0 16 16" fill="none" width="25" xmlns="http://www.w3.org/2000/svg" class="button__icon button__icon--copy">
                            <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" fill="currentColor"></path>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Script Modal -->
    <div class="modal" id="addScriptModal">
        <div class="modal-content">
            <h2 class="modal-title">Add New Script</h2>
            <div class="form-group">
                <label for="scriptName">Script Name</label>
                <input type="text" id="scriptName" placeholder="Enter script name">
            </div>
            <div class="form-group">
                <label for="scriptImage">Script Image URL (Optional)</label>
                <input type="url" id="scriptImage" placeholder="Enter image URL">
            </div>
            <div class="form-group">
                <label for="scriptContent">Script Content</label>
                <textarea id="scriptContent" rows="10" style="width: 100%; padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3);" placeholder="Enter your script code"></textarea>
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="addScript()">Add Script</button>
                <button class="btn btn-secondary" onclick="closeModal('addScriptModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Add Game Modal (New) -->
    <div class="modal" id="addGameModal">
        <div class="modal-content">
            <h2 class="modal-title">Add New Game</h2>
            <div class="form-group">
                <label for="gameName">Game Name</label>
                <input type="text" id="gameName" placeholder="Enter game name">
            </div>
            <div class="form-group">
                <label for="gameDescription">Game Description</label>
                <textarea id="gameDescription" rows="3" style="width: 100%; padding: 10px; border-radius: 8px; background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3);" placeholder="Enter game description"></textarea>
            </div>
            <div class="form-group">
                <label for="gameImageURL">Game Image URL (Optional)</label>
                <input type="url" id="gameImageURL" placeholder="Enter image URL for the game">
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="addGame()">Add Game</button>
                <button class="btn btn-secondary" onclick="closeModal('addGameModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Buy Key Modal -->
    <div class="modal" id="buyModal">
        <div class="modal-content">
            <h2 class="modal-title">Purchase Access Key</h2>
            <div class="form-group">
                <label for="buyEmail">Email</label>
                <input type="email" id="buyEmail" required>
            </div>
            <div class="form-group">
                <label for="buyUsername">Username</label>
                <input type="text" id="buyUsername" required>
            </div>
            <div class="form-group">
                <label>Payment Method</label>
                <div class="menu" style="width: 100%;">
                    <div class="item" style="width: 100%;">
                        <a href="#" class="link" style="width: 100%; justify-content: space-between;">
                            <span id="selectedPaymentMethod">Select Payment Method</span>
                            <svg viewBox="0 0 360 360" xml:space="preserve" style="width: 14px; height: 14px; fill: #ffffff;">
                                <g id="SVGRepo_iconCarrier">
                                    <path id="XMLID_225_" d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"></path>
                                </g>
                            </svg>
                        </a>
                        <div class="submenu">
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="robux" onclick="selectDropdownOption('paymentMethod', 'robux', 'Robux')">Robux</a></div>
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="cashapp" onclick="selectDropdownOption('paymentMethod', 'cashapp', 'Cash App')">Cash App</a></div>
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="paypal" onclick="selectDropdownOption('paymentMethod', 'paypal', 'PayPal')">PayPal</a></div>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="paymentMethod" value="">
            </div>
            <div class="form-group">
                <label>Subscription Plan</label>
                <div class="menu" style="width: 100%;">
                    <div class="item" style="width: 100%;">
                        <a href="#" class="link" style="width: 100%; justify-content: space-between;">
                            <span id="selectedSubscription">Select Plan</span>
                            <svg viewBox="0 0 360 360" xml:space="preserve" style="width: 14px; height: 14px; fill: #ffffff;">
                                <g id="SVGRepo_iconCarrier">
                                    <path id="XMLID_225_" d="M325.607,79.393c-5.857-5.857-15.355-5.858-21.213,0.001l-139.39,139.393L25.607,79.393 c-5.857-5.857-15.355-5.858-21.213,0.001c-5.858,5.858-5.858,15.355,0,21.213l150.004,150c2.813,2.813,6.628,4.393,10.606,4.393 s7.794-1.581,10.606-4.394l149.996-150C331.465,94.749,331.465,85.251,325.607,79.393z"></path>
                                </g>
                            </svg>
                        </a>
                        <div class="submenu">
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="standard" onclick="selectDropdownOption('subscription', 'standard', 'Standard - $20 / 200 Robux')">Standard - $20 / 200 Robux</a></div>
                            <div class="submenu-item"><a href="#" class="submenu-link" data-value="premium" onclick="selectDropdownOption('subscription', 'premium', 'Premium - $30 / 500 Robux')">Premium - $30 / 500 Robux</a></div>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="subscription" value="">
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="generateOrder()">Generate Order</button>
                <button class="btn btn-secondary" onclick="closeModal('buyModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Order Confirmation Modal -->
    <div class="modal order-confirmation-modal" id="orderConfirmationModal">
        <div class="modal-content">
            <div class="order-success-icon icon-check"></div>
            <h2 class="modal-title">Order Generated Successfully!</h2>
            
            <div class="order-details" id="orderDetailsContent">
                <!-- Order details will be populated here -->
            </div>
            
            <div class="screenshot-instruction">
                <span class="screenshot-instruction-icon icon-camera"></span>
                <span>Screenshot this and send it to support to complete your purchase!</span>
            </div>
            
            <div class="modal-buttons">
                <button class="btn" onclick="showDiscordModal()">Continue</button>
            </div>
        </div>
    </div>

    <!-- Discord Invitation Modal -->
    <div class="modal discord-modal" id="discordModal">
        <div class="modal-content">
            <div class="discord-icon icon-gamepad"></div>
            <h2 class="discord-title">Join Our Discord Server!</h2>
            <p class="discord-message">
                Connect with our community, get support, and stay updated with the latest features and announcements.
            </p>
            <div class="modal-buttons">
                <button class="button" onclick="joinDiscord()">
                    <p class="button__text">
                        <span style="--index: 0;">D</span>
                        <span style="--index: 1;">I</span>
                        <span style="--index: 2;">S</span>
                        <span style="--index: 3;">C</span>
                        <span style="--index: 4;">O</span>
                        <span style="--index: 5;">R</span>
                        <span style="--index: 6;">D</span>
                        <span style="--index: 7;"> </span>
                        <span style="--index: 8;">D</span>
                        <span style="--index: 9;">I</span>
                        <span style="--index: 10;">S</span>
                        <span style="--index: 11;">C</span>
                        <span style="--index: 12;">O</span>
                        <span style="--index: 13;">R</span>
                        <span style="--index: 14;">D</span>
                    </p>
                    <div class="button__circle">
                        <svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="button__icon" width="25">
                            <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" fill="currentColor"></path>
                        </svg>
                        <svg viewBox="0 0 16 16" fill="none" width="25" xmlns="http://www.w3.org/2000/svg" class="button__icon button__icon--copy">
                            <path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" fill="currentColor"></path>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        let currentUser = null;
        let isAdmin = false;
        let currentSection = 'dashboard';
        let executorTabs = [{ name: 'Script 1', content: '' }];
        let activeExecutorTab = 0;
        let editingScriptId = null;
        let deletingScriptId = null;
        let accessExpiration = null;
        let countdownInterval = null;

        // Predefined keys (each worth 30 days)
        const validKeys = [
            'GALAXIA-2024-ALPHA',
            'GALAXIA-2024-BETA',
            'GALAXIA-2024-GAMMA',
            'GALAXIA-2024-DELTA',
            'GALAXIA-2024-EPSILON'
        ];

        // Profanity filter
        const profanityWords = ['badword1', 'badword2', 'inappropriate'];

        // Script database - combined all scripts
        const scriptDatabase = [
            { id: 'iy', name: 'Infinite Yield', code: "loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()" },
            { id: 'dex', name: 'Dark Dex', code: "loadstring(game:HttpGet('https://raw.githubusercontent.com/Babyhamsta/RBLX_Scripts/main/Universal/BypassedDarkDexV3.lua', true))()" },
            { id: 'spy', name: 'Simple Spy', code: "loadstring(game:HttpGet('https://github.com/exxtremestuffs/SimpleSpySource/raw/master/SimpleSpy.lua'))()" },
            { id: 'hydroxide', name: 'Hydroxide', code: "loadstring(game:HttpGet('https://raw.githubusercontent.com/Upbolt/Hydroxide/revision/init.lua'))()" },
            { id: 'esp', name: 'Unnamed ESP', code: "loadstring(game:HttpGet('https://raw.githubusercontent.com/ic3w0lf22/Unnamed-ESP/master/UnnamedESP.lua'))()" },
            { id: 'aimbot', name: 'Aimbot GUI', code: "loadstring(game:HttpGet('https://raw.githubusercontent.com/Exunys/Aimbot-V3/main/src/Aimbot.lua'))()" },
            { id: 'fly', name: 'Fly GUI', code: "loadstring(game:HttpGet('https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt'))()" },
            { id: 'speed', name: 'Speed GUI', code: "loadstring(game:HttpGet('https://raw.githubusercontent.com/JynxScript/SpeedScript/main/SpeedGUI.lua'))()" },
            { id: 'noclip', name: 'Noclip GUI', code: "loadstring(game:HttpGet('https://raw.githubusercontent.com/Nicuse/RobloxScripts/main/NoClip.lua'))()" }
        ];

        // Initialize app - Fixed loading screen
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, starting initialization...');

            // Show loading screen for 2 seconds with fallback
            const loadingScreen = document.getElementById('loadingScreen');

            setTimeout(() => {
                console.log('Hiding loading screen...');
                if (loadingScreen) {
                    loadingScreen.style.opacity = '0';
                    loadingScreen.style.visibility = 'hidden';

                    // Fallback: force hide after transition
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                        checkAuthStatus();
                    }, 500);
                } else {
                    checkAuthStatus();
                }
            }, 1000); // Reduced to 1 second for faster loading

            // Initialize countdown
            try {
                startCountdown();
            } catch (error) {
                console.log('Countdown initialization failed:', error);
            }

            // Initialize sidebar resize observer
            setupSidebarResizeObserver();
        });

        // Add a manual skip button for loading screen
        function skipLoading() {
            const loadingScreen = document.getElementById('loadingScreen');
            if (loadingScreen) {
                loadingScreen.style.display = 'none';
                checkAuthStatus();
            }
        }

        // Authentication Functions
        function checkAuthStatus() {
            const userData = localStorage.getItem('galaxiaUser');
            if (userData) {
                currentUser = JSON.parse(userData);
                isAdmin = currentUser.username === 'GALAXIAADMIN';
                showMainApp();
            } else {
                document.getElementById('authContainer').style.display = 'flex';
            }
        }

        function showLogin() {
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            clearErrors();
        }

        function showRegister() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
            clearErrors();
        }

        function clearErrors() {
            document.getElementById('loginError').textContent = '';
            document.getElementById('registerError').textContent = '';
        }

        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function validatePassword(password) {
            const hasUppercase = /[A-Z]/.test(password);
            const hasNumber = /\d/.test(password);
            return hasUppercase && hasNumber && password.length >= 6;
        }

        function containsProfanity(text) {
            return profanityWords.some(word => text.toLowerCase().includes(word.toLowerCase()));
        }

        function register() {
            const username = document.getElementById('registerUsername').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const errorElement = document.getElementById('registerError');

            // Validation
            if (!username || !email || !password || !confirmPassword) {
                errorElement.textContent = 'All fields are required.';
                return;
            }

            if (containsProfanity(username)) {
                errorElement.textContent = 'Username contains inappropriate content.';
                return;
            }

            if (!validateEmail(email)) {
                errorElement.textContent = 'Please enter a valid email address.';
                return;
            }

            if (!validatePassword(password)) {
                errorElement.textContent = 'Password must contain at least 1 uppercase letter and 1 number.';
                return;
            }

            if (password !== confirmPassword) {
                errorElement.textContent = 'Passwords do not match.';
                return;
            }

            // Check for existing users
            const existingUsers = JSON.parse(localStorage.getItem('galaxiaUsers') || '[]');
            if (existingUsers.some(user => user.email === email)) {
                errorElement.textContent = 'Email already exists.';
                return;
            }

            if (existingUsers.some(user => user.username === username)) {
                errorElement.textContent = 'Username already exists.';
                return;
            }

            // Create new user
            const newUser = {
                id: Date.now(),
                username,
                email,
                password,
                profilePic: null,
                robloxConnected: false,
                robloxUsername: '',
                accessExpiration: Date.now() + (7 * 24 * 60 * 60 * 1000), // 7 days trial
                blacklisted: false,
                scripts: []
            };

            existingUsers.push(newUser);
            localStorage.setItem('galaxiaUsers', JSON.stringify(existingUsers));

            errorElement.style.color = '#10b981';
            errorElement.textContent = 'Account created successfully! You can now login.';

            setTimeout(() => {
                showLogin();
            }, 1500);
        }

        function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;
            const errorElement = document.getElementById('loginError');

            if (!email || !password) {
                errorElement.textContent = 'Please enter both email and password.';
                return;
            }

            // Check for admin login
            if (email === 'GALAXIAADMIN' && password === 'GALAXIAISRELEASING') {
                currentUser = {
                    id: 0,
                    username: 'GALAXIAADMIN',
                    email: 'admin@galaxia.com',
                    profilePic: null,
                    robloxConnected: true,
                    robloxUsername: 'GalaxiaAdmin',
                    accessExpiration: Date.now() + (99999999 * 24 * 60 * 60 * 1000), // 99999999 days
                    blacklisted: false,
                    scripts: []
                };
                isAdmin = true;
                localStorage.setItem('galaxiaUser', JSON.stringify(currentUser));
                showMainApp();
                return;
            }

            // Regular user login
            const existingUsers = JSON.parse(localStorage.getItem('galaxiaUsers') || '[]');
            const user = existingUsers.find(u => u.email === email && u.password === password);

            if (!user) {
                errorElement.textContent = 'Invalid email or password.';
                return;
            }

            if (user.blacklisted) {
                errorElement.textContent = 'Your account has been suspended. Contact support.';
                return;
            }

            if (user.accessExpiration < Date.now()) {
                errorElement.textContent = 'Your access has expired. Please redeem a new key.';
                return;
            }

            currentUser = user;
            isAdmin = false;
            localStorage.setItem('galaxiaUser', JSON.stringify(currentUser));
            showMainApp();
        }

        function showMainApp() {
            document.getElementById('authContainer').classList.add('hidden');
            document.getElementById('mainApp').classList.add('visible');

            // Update UI with user info
            updateUserInterface();
            loadUserData();

            // Show admin elements if admin
            if (isAdmin) {
                document.querySelectorAll('.admin-only').forEach(el => el.classList.add('show'));
            }
        }

        function updateUserInterface() {
            const sidebarAvatar = document.getElementById('sidebarAvatar');
            const sidebarUsername = document.getElementById('sidebarUsername');
            const sidebarUserType = document.getElementById('sidebarUserType');
            const welcomeMessage = document.getElementById('welcomeMessage');
            const accountStatus = document.getElementById('accountStatus');
            const timeLeftDisplay = document.getElementById('timeLeft');

            if (currentUser.profilePic) {
                sidebarAvatar.innerHTML = `<img src="${currentUser.profilePic}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">`;
            } else {
                sidebarAvatar.textContent = currentUser.username.charAt(0).toUpperCase();
            }

            sidebarUsername.textContent = `Welcome, ${currentUser.username}`;
            welcomeMessage.textContent = `Welcome back to Galaxia, ${currentUser.username}!`;

            if (isAdmin) {
                accountStatus.textContent = 'Admin';
                sidebarUserType.textContent = 'Unlimited Access';
                timeLeftDisplay.textContent = 'Unlimited Access';
            } else {
                const daysLeft = Math.ceil((currentUser.accessExpiration - Date.now()) / (1000 * 60 * 60 * 24));

                if (daysLeft >= 91) {
                    accountStatus.textContent = 'Premium Lifetime User';
                    sidebarUserType.textContent = 'Lifetime Access';
                    timeLeftDisplay.textContent = 'Lifetime Access';
                } else {
                    accountStatus.textContent = 'Standard User';
                    sidebarUserType.textContent = `${daysLeft} days left`;
                    timeLeftDisplay.textContent = `${daysLeft} days left`;
                }
            }

            // Update access expiration
            accessExpiration = currentUser.accessExpiration;
        }

        function logout() {
            localStorage.removeItem('galaxiaUser');
            currentUser = null;
            isAdmin = false;
            location.reload();
        }

        // Navigation Functions
        function switchSection(section) {
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));

            // Find and activate the correct nav item
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                // Check for text content or specific section ID
                if (item.textContent.trim().toLowerCase().includes(section.toLowerCase()) ||
                    (section === 'dashboard' && item.querySelector('.icon-home')) ||
                    (section === 'games' && item.textContent.trim() === 'Games') ||
                    (section === 'scripthub' && item.querySelector('.icon-script')) ||
                    (section === 'scripts' && item.querySelector('.icon-document')) ||
                    (section === 'executor' && item.querySelector('.icon-lightning')) ||
                    (section === 'settings' && item.querySelector('.icon-settings')) ||
                    (section === 'redeem' && item.querySelector('.icon-ticket')) ||
                    (section === 'support' && item.querySelector('.icon-question')) ||
                    (section === 'whitelist' && item.querySelector('.icon-users')) ||
                    (section === 'orders' && item.querySelector('.icon-clipboard'))) {
                    item.classList.add('active');
                }
            });

            // Hide all sections
            document.querySelectorAll('.content-section').forEach(sec => {
                sec.classList.remove('active');
                sec.style.display = 'none';
            });

            // Show selected section
            const targetSection = document.getElementById(section + 'Section');
            if (targetSection) {
                targetSection.classList.add('active');
                targetSection.style.display = 'block';
            }

            currentSection = section;

            // Load specific data when switching to certain sections
            if (section === 'whitelist' && isAdmin) {
                loadUserList();
            } else if (section === 'orders' && isAdmin) {
                loadOrdersList();
            } else if (section === 'scripthub') {
                loadScriptHub();
            } else if (section === 'executor') {
                loadExecutorContent();
            } else if (section === 'games') {
                loadGames(); // Ensure games are loaded when navigating to the section
            } else if (section === 'settings') {
                updateRobloxConnectionUI(); // Update Roblox connection UI in settings
            }

            // Close mobile sidebar
            if (window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('open');
            }
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // Executor Content Loading
        function loadExecutorContent() {
            const executorSection = document.getElementById('executorSection'); // Target the section directly

            if (!currentUser.robloxConnected && !isAdmin) {
                // Show restriction message
                executorSection.innerHTML = `
                    <div class="content-header">
                        <h1 class="content-title"></h1>
                        <p class="content-subtitle"></p>
                    </div>
                    <div class="section-card">
                        <div class="executor-restricted">
                            <div class="restriction-icon icon-lock"></div>
                            <h3 class="restriction-title">Executor Access Restricted</h3>
                            <p class="restriction-message">
                                You need to connect your Roblox account before you can use the script executor.
                                This helps us ensure secure script execution and account safety.
                            </p>
                            <button class="restriction-btn" onclick="switchSection('settings')">
                                Connect Roblox Account
                            </button>
                        </div>
                    </div>
                `;
            } else {
                // Show executor interface
                executorSection.innerHTML = `
                    <div class="content-header">
                        <h1 class="content-title"></h1>
                        <p class="content-subtitle"></p>
                    </div>
                    <div class="section-card">
                        <div class="executor-container">
                            <div class="executor-tabs">
                                <div class="executor-tab active" data-tab="0">
                                    <span>Script 1</span>
                                    <button class="tab-close" onclick="closeExecutorTab(0)">Ã—</button>
                                </div>
                                <button class="add-tab-btn" onclick="addExecutorTab()">+</button>
                            </div>
                            <textarea class="code-editor" id="codeEditor0" placeholder="-- Enter your Lua script here"></textarea>
                            <div class="executor-buttons">
                                <button class="executor-btn" onclick="executeScript()">Execute</button>
                                <button class="executor-btn secondary" onclick="saveScript()">Save</button>
                                <button class="executor-btn secondary" onclick="loadScript()">Load</button>
                                <button class="executor-btn secondary" onclick="resetCharacter()">Reset Character</button>
                                <button class="executor-btn secondary" onclick="clearEditor()">Clear</button>
                            </div>
                        </div>
                    </div>
                `;

                // Initialize executor tabs
                setTimeout(() => {
                    renderExecutorTabs();
                    updateCodeEditor();
                    // Add event listeners for tabs
                    document.querySelectorAll('.executor-tab').forEach(tab => {
                        tab.addEventListener('click', (e) => {
                            if (!e.target.classList.contains('tab-close')) {
                                switchExecutorTab(parseInt(tab.dataset.tab));
                            }
                        });
                    });
                }, 100);
            }
        }

        // Data Loading Functions
        function loadUserData() {
            loadGames();
            loadScriptHub();
            loadMyScripts();
            updateDashboardCounts();
        }

        function loadGames() {
            const gamesList = document.getElementById('gamesList');
            // Load games from localStorage, or initialize if empty
            const storedGames = JSON.parse(localStorage.getItem('galaxiaGames') || '[]');

            // Always include default game
            const defaultGame = {
                id: 'baseplate',
                name: 'Roblox Baseplate',
                players: 1234,
                description: 'The classic Roblox baseplate experience. Perfect for testing scripts and building your creations.',
                image: 'https://via.placeholder.com/150/8b5cf6/FFFFFF?text=Baseplate' // Default image
            };

            // Filter out default game if it exists in storedGames to avoid duplicates, then add it
            const allGames = [defaultGame, ...storedGames.filter(game => game.id !== defaultGame.id)];

            gamesList.innerHTML = '';
            allGames.forEach(game => {
                const gameElement = document.createElement('div');
                gameElement.className = 'list-item';
                const gameImageHtml = game.image ? `<img src="${game.image}" alt="${game.name} icon">` : '<span class="item-icon icon-gamepad"></span>';

                gameElement.innerHTML = `
                    <div class="item-info">
                        <div class="item-icon">${gameImageHtml}</div>
                        <div class="item-details">
                            <h3>${game.name}</h3>
                            <p>Players: ${game.players || 'Unknown'} | ${game.description || 'A fun Roblox game experience.'}</p>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="action-btn wide" onclick="joinGame('${game.id}')">Join Game</button>
                        ${isAdmin ? `<button class="action-btn danger" onclick="deleteGame('${game.id}')">Delete</button>` : ''}
                    </div>
                `;
                gamesList.appendChild(gameElement);
            });
        }

        function loadScriptHub() {
            const allScriptsContainer = document.getElementById('allScripts');
            allScriptsContainer.innerHTML = '';

            // Load hub scripts from localStorage
            const hubScripts = JSON.parse(localStorage.getItem('galaxiaHubScripts') || '[]');
            const allScripts = [...scriptDatabase, ...hubScripts];

            allScripts.forEach(script => {
                const scriptElement = createScriptElement(script, true);
                allScriptsContainer.appendChild(scriptElement);
            });
        }

        function createScriptElement(script, isHubScript = false) {
            const scriptElement = document.createElement('div');
            scriptElement.className = 'list-item';

            const adminDeleteBtn = isHubScript && isAdmin && !scriptDatabase.find(s => s.id === script.id)
                ? `<button class="action-btn danger" onclick="deleteHubScript('${script.id}')">Delete</button>`
                : '';

            scriptElement.innerHTML = `
                <div class="item-info">
                    <div class="item-details">
                        <h3>${script.name}</h3>
                        <p>${script.description || 'A powerful Roblox script for enhanced gameplay.'}</p>
                    </div>
                </div>
                <div class="item-actions">
                    <button class="action-btn" onclick="copyScript('${script.id}')">Copy Script</button>
                    <button class="action-btn" onclick="loadToEditor('${script.id}')">Load to Editor</button>
                    ${adminDeleteBtn}
                </div>
            `;
            return scriptElement;
        }

        function loadMyScripts() {
            const scriptsList = document.getElementById('myScriptsList');
            scriptsList.innerHTML = '';

            if (!currentUser.scripts || currentUser.scripts.length === 0) {
                scriptsList.innerHTML = '<p style="text-align: center; color: rgba(255,255,255,0.7); padding: 40px;">No scripts yet. Add your first script!</p>';
                return;
            }

            currentUser.scripts.forEach(script => {
                const scriptElement = document.createElement('div');
                scriptElement.className = 'list-item';
                scriptElement.innerHTML = `
                    <div class="item-info">
                        <div class="item-icon icon-document"></div>
                        <div class="item-details">
                            <h3>${script.name}</h3>
                            <p>Created: ${new Date(script.created).toLocaleDateString()}</p>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="action-btn" onclick="editScript(${script.id})">Edit</button>
                        <button class="action-btn danger" onclick="deleteScript(${script.id})">Delete</button>
                    </div>
                `;
                scriptsList.appendChild(scriptElement);
            });
        }

        function updateDashboardCounts() {
            const games = JSON.parse(localStorage.getItem('galaxiaGames') || '[]');
            document.getElementById('gameCount').textContent = games.length + 1; // +1 for default game
            document.getElementById('userScriptCount').textContent = currentUser.scripts ? currentUser.scripts.length : 0;
        }

        // Orders Display Function
        function loadOrdersList() {
            const ordersList = document.getElementById('ordersList');
            const orders = JSON.parse(localStorage.getItem('galaxiaOrders') || '[]');

            if (orders.length === 0) {
                ordersList.innerHTML = `
                    <div class="no-orders-display">
                        <div class="no-orders-icon icon-clipboard"></div>
                        <h3 class="no-orders-title">No orders to display</h3>
                        <p class="no-orders-message">When users generate orders, they will appear here for management.</p>
                    </div>
                `;
                return;
            }

            ordersList.innerHTML = '';
            orders.forEach(order => {
                const orderElement = document.createElement('div');
                orderElement.className = 'list-item';
                orderElement.innerHTML = `
                    <div class="item-info">
                        <div class="item-icon icon-clipboard"></div>
                        <div class="item-details">
                            <h3>Order #${order.id}</h3>
                            <p>Email: ${order.email}<br>Username: ${order.username}<br>Plan: ${order.subscription}<br>Payment: ${order.paymentMethod}</p>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="action-btn" onclick="fulfillOrder('${order.id}')">Fulfill</button>
                        <button class="action-btn danger" onclick="cancelOrder('${order.id}')">Cancel</button>
                    </div>
                `;
                ordersList.appendChild(orderElement);
            });
        }

        // Search Functions
        function searchGames() {
            const searchTerm = document.getElementById('gameSearch').value.toLowerCase();
            const gameItems = document.querySelectorAll('#gamesList .list-item');

            gameItems.forEach(item => {
                const title = item.querySelector('h3').textContent.toLowerCase();
                const description = item.querySelector('p').textContent.toLowerCase();

                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function searchScripts() {
            const searchTerm = document.getElementById('scriptSearch').value.toLowerCase();
            const scriptItems = document.querySelectorAll('#scripthubSection .list-item');

            scriptItems.forEach(item => {
                const title = item.querySelector('h3').textContent.toLowerCase();
                const description = item.querySelector('p').textContent.toLowerCase();

                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function searchMyScripts() {
            const searchTerm = document.getElementById('myScriptSearch').value.toLowerCase();
            const scriptItems = document.querySelectorAll('#myScriptsList .list-item');

            scriptItems.forEach(item => {
                const title = item.querySelector('h3').textContent.toLowerCase();

                if (title.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Script Functions
        function copyScript(scriptId) {
            let scriptCode = '';

            // Find script in database
            const hubScripts = JSON.parse(localStorage.getItem('galaxiaHubScripts') || '[]');
            const allScripts = [...scriptDatabase, ...hubScripts];
            const script = allScripts.find(s => s.id === scriptId);

            if (!script) {
                alert('Script not found!');
                return;
            }

            scriptCode = script.code;

            // Copy to clipboard
            navigator.clipboard.writeText(scriptCode).then(() => {
                alert('Script copied to clipboard!');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = scriptCode;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Script copied to clipboard!');
            });
        }

        function loadToEditor(scriptId) {
            // Find script in database or hub scripts
            const hubScripts = JSON.parse(localStorage.getItem('galaxiaHubScripts') || '[]');
            const allScripts = [...scriptDatabase, ...hubScripts];
            const script = allScripts.find(s => s.id === scriptId);

            if (!script) {
                alert('Script not found!');
                return;
            }

            // Check if Roblox is connected (unless admin)
            if (!currentUser.robloxConnected && !isAdmin) {
                alert('Please connect your Roblox account in Settings before using the executor.');
                return;
            }

            // Switch to executor section
            switchSection('executor');

            // Load script into active editor tab
            setTimeout(() => {
                const editor = document.getElementById(`codeEditor${activeExecutorTab}`);
                if (editor) {
                    editor.value = script.code;
                    executorTabs[activeExecutorTab].content = script.code;
                }
            }, 200);
        }

        function showAddScriptModal() {
            document.getElementById('addScriptModal').classList.add('show');
        }

        function addScript() {
            const name = document.getElementById('scriptName').value.trim();
            const image = document.getElementById('scriptImage').value.trim();
            const content = document.getElementById('scriptContent').value.trim();

            if (!name || !content) {
                alert('Please enter both script name and content.');
                return;
            }

            if (isAdmin && currentSection === 'scripthub') {
                // Add to hub scripts
                const hubScripts = JSON.parse(localStorage.getItem('galaxiaHubScripts') || '[]');

                if (hubScripts.some(script => script.name === name)) {
                    alert('A script with this name already exists in the hub.');
                    return;
                }

                const newScript = {
                    id: 'hub_' + Date.now(),
                    name,
                    code: content,
                    description: 'Custom admin script',
                    created: Date.now()
                };

                hubScripts.push(newScript);
                localStorage.setItem('galaxiaHubScripts', JSON.stringify(hubScripts));
                loadScriptHub();
            } else {
                // Add to user scripts
                if (currentUser.scripts.some(script => script.name === name)) {
                    alert('A script with this name already exists.');
                    return;
                }

                const newScript = {
                    id: Date.now(),
                    name,
                    image,
                    content,
                    created: Date.now()
                };

                currentUser.scripts.push(newScript);
                updateUserInStorage();
                loadMyScripts();
                updateDashboardCounts();
            }

            closeModal('addScriptModal');

            // Clear form
            document.getElementById('scriptName').value = '';
            document.getElementById('scriptImage').value = '';
            document.getElementById('scriptContent').value = '';
        }

        function editScript(scriptId) {
            const script = currentUser.scripts.find(s => s.id === scriptId);
            if (!script) return;

            editingScriptId = scriptId;
            document.getElementById('scriptName').value = script.name;
            document.getElementById('scriptContent').value = script.content;
            document.getElementById('addScriptModal').classList.add('show');
        }

        function deleteScript(scriptId) {
            if (confirm('Are you sure you want to delete this script?')) {
                currentUser.scripts = currentUser.scripts.filter(s => s.id !== scriptId);
                updateUserInStorage();
                loadMyScripts();
                updateDashboardCounts();
            }
        }

        function deleteHubScript(scriptId) {
            if (confirm('Are you sure you want to delete this script from the hub?')) {
                let hubScripts = JSON.parse(localStorage.getItem('galaxiaHubScripts') || '[]');
                hubScripts = hubScripts.filter(s => s.id !== scriptId);
                localStorage.setItem('galaxiaHubScripts', JSON.stringify(hubScripts));
                loadScriptHub();
            }
        }

        function updateUserInStorage() {
            localStorage.setItem('galaxiaUser', JSON.stringify(currentUser));

            // Also update in users array if not admin
            if (!isAdmin) {
                const users = JSON.parse(localStorage.getItem('galaxiaUsers') || '[]');
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('galaxiaUsers', JSON.stringify(users));
                }
            }
        }

        // Game Functions (New)
        function showAddGameModal() {
            document.getElementById('addGameModal').classList.add('show');
        }

        function addGame() {
            const name = document.getElementById('gameName').value.trim();
            const description = document.getElementById('gameDescription').value.trim();
            const imageURL = document.getElementById('gameImageURL').value.trim();

            if (!name || !description) {
                alert('Please enter game name and description.');
                return;
            }

            const games = JSON.parse(localStorage.getItem('galaxiaGames') || '[]');
            if (games.some(game => game.name === name)) {
                alert('A game with this name already exists.');
                return;
            }

            const newGame = {
                id: 'game_' + Date.now(),
                name,
                players: Math.floor(Math.random() * 5000) + 100, // Random players for simulation
                description,
                image: imageURL || null // Store image URL or null if not provided
            };

            games.push(newGame);
            localStorage.setItem('galaxiaGames', JSON.stringify(games));
            loadGames();
            updateDashboardCounts();
            closeModal('addGameModal');

            // Clear form
            document.getElementById('gameName').value = '';
            document.getElementById('gameDescription').value = '';
            document.getElementById('gameImageURL').value = '';
        }

        function deleteGame(gameId) {
            if (confirm('Are you sure you want to delete this game?')) {
                let games = JSON.parse(localStorage.getItem('galaxiaGames') || '[]');
                games = games.filter(game => game.id !== gameId);
                localStorage.setItem('galaxiaGames', JSON.stringify(games));
                loadGames();
                updateDashboardCounts();
            }
        }

        // Executor Functions
        function addExecutorTab() {
            const tabCount = executorTabs.length + 1;
            executorTabs.push({ name: `Script ${tabCount}`, content: '' });
            renderExecutorTabs();
            switchExecutorTab(executorTabs.length - 1);
        }

        function closeExecutorTab(index) {
            if (executorTabs.length === 1) return; // Don't close last tab

            executorTabs.splice(index, 1);
            if (activeExecutorTab >= executorTabs.length) {
                activeExecutorTab = executorTabs.length - 1;
            }
            renderExecutorTabs();
            switchExecutorTab(activeExecutorTab);
        }

        function renderExecutorTabs() {
            const tabsContainer = document.querySelector('.executor-tabs');
            if (!tabsContainer) return;

            const addButton = tabsContainer.querySelector('.add-tab-btn');

            // Remove all tab elements except add button
            tabsContainer.querySelectorAll('.executor-tab').forEach(tab => tab.remove());

            // Add tabs
            executorTabs.forEach((tab, index) => {
                const tabElement = document.createElement('div');
                tabElement.className = `executor-tab ${index === activeExecutorTab ? 'active' : ''}`;
                tabElement.setAttribute('data-tab', index);
                tabElement.innerHTML = `
                    <span>${tab.name}</span>
                    <button class="tab-close" onclick="closeExecutorTab(${index})">Ã—</button>
                `;
                tabElement.addEventListener('click', (e) => {
                    if (!e.target.classList.contains('tab-close')) {
                        switchExecutorTab(index);
                    }
                });
                tabsContainer.insertBefore(tabElement, addButton);
            });
        }

        function switchExecutorTab(index) {
            // Save current tab content
            if (activeExecutorTab < executorTabs.length) {
                const currentEditor = document.getElementById(`codeEditor${activeExecutorTab}`);
                if (currentEditor) {
                    executorTabs[activeExecutorTab].content = currentEditor.value;
                }
            }

            activeExecutorTab = index;

            // Update tab appearance
            document.querySelectorAll('.executor-tab').forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });

            // Update editor content
            updateCodeEditor();
        }

        function updateCodeEditor() {
            // Remove existing editors
            document.querySelectorAll('.code-editor').forEach(editor => editor.remove());

            // Create new editor for active tab
            const editorContainer = document.querySelector('.executor-container');
            const buttonsContainer = document.querySelector('.executor-buttons');

            if (!editorContainer || !buttonsContainer) return;

            const editor = document.createElement('textarea');
            editor.className = 'code-editor';
            editor.id = `codeEditor${activeExecutorTab}`;
            editor.placeholder = '-- Enter your Lua script here';
            editor.value = executorTabs[activeExecutorTab].content;

            editorContainer.insertBefore(editor, buttonsContainer);
        }

        function executeScript() {
            if (!currentUser.robloxConnected && !isAdmin) {
                alert('Please connect your Roblox account in Settings before executing scripts.');
                return;
            }

            const editor = document.getElementById(`codeEditor${activeExecutorTab}`);
            const code = editor.value.trim();

            if (!code) {
                alert('Please enter some code to execute.');
                return;
            }

            // Simulate script execution
            alert('Script executed successfully! (This is a simulation)');
        }

        function saveScript() {
            const editor = document.getElementById(`codeEditor${activeExecutorTab}`);
            const code = editor.value.trim();

            if (!code) {
                alert('No code to save.');
                return;
            }

            const scriptName = prompt('Enter script name:');
            if (!scriptName) return;

            // Check for duplicate names
            if (currentUser.scripts.some(script => script.name === scriptName)) {
                alert('A script with this name already exists.');
                return;
            }

            const newScript = {
                id: Date.now(),
                name: scriptName,
                content: code,
                created: Date.now()
            };

            currentUser.scripts.push(newScript);
            updateUserInStorage();
            loadMyScripts();
            updateDashboardCounts();
            alert('Script saved successfully!');
        }

        function loadScript() {
            if (!currentUser.scripts || currentUser.scripts.length === 0) {
                alert('No saved scripts found.');
                return;
            }

            const scriptNames = currentUser.scripts.map(s => s.name);
            const selectedName = prompt(`Select script to load:\n${scriptNames.join('\n')}`);

            if (!selectedName) return;

            const script = currentUser.scripts.find(s => s.name === selectedName);
            if (script) {
                const editor = document.getElementById(`codeEditor${activeExecutorTab}`);
                editor.value = script.content;
                executorTabs[activeExecutorTab].content = script.content;
            }
        }

        function resetCharacter() {
            if (!currentUser.robloxConnected && !isAdmin) {
                alert('Please connect your Roblox account in Settings first.');
                return;
            }
            alert('Character reset! (This is a simulation)');
        }

        function clearEditor() {
            const editor = document.getElementById(`codeEditor${activeExecutorTab}`);
            if (editor) {
                editor.value = '';
                executorTabs[activeExecutorTab].content = '';
            }
        }

        // Settings Functions
        function updateProfile() {
            const newUsername = document.getElementById('newUsername').value.trim();
            const newEmail = document.getElementById('newEmail').value.trim();
            const newPassword = document.getElementById('newPassword').value;

            if (newUsername && newUsername !== currentUser.username) {
                currentUser.username = newUsername;
            }

            if (newEmail && newEmail !== currentUser.email) {
                if (!validateEmail(newEmail)) {
                    alert('Please enter a valid email address.');
                    return;
                }
                currentUser.email = newEmail;
            }

            if (newPassword) {
                if (!validatePassword(newPassword)) {
                    alert('Password must contain at least 1 uppercase letter and 1 number.');
                    return;
                }
                currentUser.password = newPassword;
            }

            updateUserInStorage();
            updateUserInterface();
            alert('Profile updated successfully!');

            // Clear form
            document.getElementById('newUsername').value = '';
            document.getElementById('newEmail').value = '';
            document.getElementById('newPassword').value = '';
        }

        function updateProfilePic() {
            const file = document.getElementById('profilePicInput').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentUser.profilePic = e.target.result;
                    updateUserInStorage();
                    updateUserInterface();
                    alert('Profile picture updated successfully!');
                };
                reader.readAsDataURL(file);
            }
        }

        function connectRoblox() {
            const robloxUsernameInput = document.getElementById('robloxUsername');
            const robloxUsername = robloxUsernameInput.value.trim();

            if (!robloxUsername) {
                alert('Please enter your Roblox username.');
                return;
            }

            currentUser.robloxUsername = robloxUsername;
            currentUser.robloxConnected = true;
            updateUserInStorage();

            alert('Roblox account connected successfully!');
            updateRobloxConnectionUI(); // Update the UI in settings
            if (currentSection === 'executor') { // If on executor section, refresh it
                loadExecutorContent();
            }
        }

        function disconnectRoblox() {
            currentUser.robloxUsername = '';
            currentUser.robloxConnected = false;
            updateUserInStorage();
            alert('Roblox account disconnected.');
            updateRobloxConnectionUI(); // Update the UI in settings
            if (currentSection === 'executor') { // If on executor section, refresh it
                loadExecutorContent();
            }
        }

        function updateRobloxConnectionUI() {
            const robloxConnectionContainer = document.getElementById('robloxConnectionContainer');
            if (!robloxConnectionContainer) return;

            if (currentUser.robloxConnected) {
                robloxConnectionContainer.innerHTML = `
                    <p style="margin-bottom: 10px;">Currently Connected: <b>${currentUser.robloxUsername}</b></p>
                    <button class="btn btn-secondary" onclick="disconnectRoblox()">Change Account</button>
                `;
            } else {
                robloxConnectionContainer.innerHTML = `
                    <div class="form-group">
                        <label for="robloxUsername">Roblox Username</label>
                        <input type="text" id="robloxUsername" placeholder="Enter your Roblox username">
                    </div>
                    <button class="btn" onclick="connectRoblox()">Connect Account</button>
                `;
            }
        }

        // Key Redemption Functions
        function redeemKey() {
            const keyInput = document.getElementById('keyInput');
            const key = keyInput.value.trim().toUpperCase();
            const messageElement = document.getElementById('keyMessage');

            if (!key) {
                messageElement.textContent = 'Please enter a key.';
                messageElement.style.color = '#ef4444';
                return;
            }

            if (validKeys.includes(key)) {
                // Add 30 days to current expiration
                const currentExpiration = currentUser.accessExpiration || Date.now();
                const newExpiration = Math.max(currentExpiration, Date.now()) + (30 * 24 * 60 * 60 * 1000);

                currentUser.accessExpiration = newExpiration;
                accessExpiration = newExpiration;
                updateUserInStorage();
                updateUserInterface();

                messageElement.textContent = 'Key redeemed successfully! 30 days added to your account.';
                messageElement.style.color = '#10b981';
                keyInput.value = '';

                // Remove used key
                const keyIndex = validKeys.indexOf(key);
                if (keyIndex > -1) {
                    validKeys.splice(keyIndex, 1);
                }
            } else {
                messageElement.textContent = 'Invalid or expired key.';
                messageElement.style.color = '#ef4444';
            }
        }

        function showBuyModal() {
            document.getElementById('buyModal').classList.add('show');
            // Reset dropdowns when showing modal
            document.getElementById('selectedPaymentMethod').textContent = 'Select Payment Method';
            document.getElementById('paymentMethod').value = '';
            document.getElementById('selectedSubscription').textContent = 'Select Plan';
            document.getElementById('subscription').value = '';
        }

        function selectDropdownOption(dropdownId, value, text) {
            document.getElementById(dropdownId).value = value;
            document.getElementById(`selected${dropdownId.charAt(0).toUpperCase() + dropdownId.slice(1)}`).textContent = text;
        }

        function generateOrder() {
            const email = document.getElementById('buyEmail').value.trim();
            const username = document.getElementById('buyUsername').value.trim();
            const paymentMethod = document.getElementById('paymentMethod').value;
            const subscription = document.getElementById('subscription').value;

            if (!email || !username || !paymentMethod || !subscription) {
                showOrderError();
                return;
            }

            const orderId = `GX-${Date.now()}`;
            const orderDetails = {
                id: orderId,
                email: email,
                username: username,
                paymentMethod: paymentMethod,
                subscription: subscription,
                timestamp: new Date().toLocaleString(),
                status: 'pending'
            };

            // Save order to localStorage
            const orders = JSON.parse(localStorage.getItem('galaxiaOrders') || '[]');
            orders.push(orderDetails);
            localStorage.setItem('galaxiaOrders', JSON.stringify(orders));

            // Show order confirmation modal
            showOrderConfirmation(orderDetails);
            closeModal('buyModal');
        }

        function showOrderConfirmation(orderDetails) {
            const modal = document.getElementById('orderConfirmationModal');
            const detailsContent = document.getElementById('orderDetailsContent');

            detailsContent.innerHTML = `
Order Generated Successfully!

Order ID: ${orderDetails.id}
Email: ${orderDetails.email}
Username: ${orderDetails.username}
Payment Method: ${orderDetails.paymentMethod}
Subscription Plan: ${orderDetails.subscription}
Generated: ${orderDetails.timestamp}

Status: Pending Payment
            `;

            modal.classList.add('show');
        }

        function showDiscordModal() {
            closeModal('orderConfirmationModal');
            document.getElementById('discordModal').classList.add('show');
        }

        // Support Functions
        function joinDiscord() {
            alert('Discord invite would open here. (https://discord.gg/galaxia)');
        }

        function joinGame(gameId) {
            alert(`Joining game: ${gameId} (This is a simulation)`);
        }

        // Admin Functions
        function loadUserList() {
            const userList = document.getElementById('userList');
            const users = JSON.parse(localStorage.getItem('galaxiaUsers') || '[]');

            userList.innerHTML = '';
            users.forEach(user => {
                const userCard = document.createElement('div');
                userCard.className = 'list-item';
                userCard.innerHTML = `
                    <div class="item-info">
                        <div class="item-icon icon-user"></div>
                        <div class="item-details">
                            <h3>${user.username}</h3>
                            <p>Email: ${user.email}<br>Expires: ${new Date(user.accessExpiration).toLocaleDateString()}<br>Status: ${user.blacklisted ? 'Blacklisted' : 'Active'}</p>
                        </div>
                    </div>
                    <div class="item-actions">
                        <button class="action-btn" onclick="addUserTime('${user.id}')">Add Time</button>
                        <button class="action-btn ${user.blacklisted ? '' : 'danger'}" onclick="toggleBlacklist('${user.id}')">
                            ${user.blacklisted ? 'Unblacklist' : 'Blacklist'}
                        </button>
                    </div>
                `;
                userList.appendChild(userCard);
            });
        }

        function addUserTime(userId) {
            const users = JSON.parse(localStorage.getItem('galaxiaUsers') || '[]');
            const userIndex = users.findIndex(u => u.id == userId);

            if (userIndex !== -1) {
                const days = prompt('How many days to add?');
                if (days && !isNaN(days)) {
                    users[userIndex].accessExpiration += parseInt(days) * 24 * 60 * 60 * 1000;
                    localStorage.setItem('galaxiaUsers', JSON.stringify(users));
                    loadUserList();
                    alert(`Added ${days} days to user's account.`);
                }
            }
        }

        function toggleBlacklist(userId) {
            const users = JSON.parse(localStorage.getItem('galaxiaUsers') || '[]');
            const userIndex = users.findIndex(u => u.id == userId);

            if (userIndex !== -1) {
                users[userIndex].blacklisted = !users[userIndex].blacklisted;
                localStorage.setItem('galaxiaUsers', JSON.stringify(users));
                loadUserList();
                alert(`User ${users[userIndex].blacklisted ? 'blacklisted' : 'unblacklisted'} successfully.`);
            }
        }

        function fulfillOrder(orderId) {
            const orders = JSON.parse(localStorage.getItem('galaxiaOrders') || '[]');
            const orderIndex = orders.findIndex(o => o.id === orderId);

            if (orderIndex !== -1) {
                orders[orderIndex].status = 'fulfilled';
                localStorage.setItem('galaxiaOrders', JSON.stringify(orders));
                loadOrdersList();
                alert('Order fulfilled successfully!');
            }
        }

        function cancelOrder(orderId) {
            if (confirm('Are you sure you want to cancel this order?')) {
                let orders = JSON.parse(localStorage.getItem('galaxiaOrders') || '[]');
                orders = orders.filter(o => o.id !== orderId);
                localStorage.setItem('galaxiaOrders', JSON.stringify(orders));
                loadOrdersList();
                alert('Order cancelled successfully!');
            }
        }

        function showAddHubScriptModal() {
            document.getElementById('addScriptModal').classList.add('show');
        }

        // Countdown Functions
        function startCountdown() {
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }

            countdownInterval = setInterval(updateCountdown, 1000);
            updateCountdown(); // Initial update
        }

        function updateCountdown() {
            const accessTimeLeftElement = document.getElementById('accessTimeLeft');
            if (!accessTimeLeftElement) return;

            if (!currentUser || !accessExpiration) {
                accessTimeLeftElement.textContent = '0d 0h 0m 0s';
                return;
            }

            const now = Date.now();
            const timeLeft = accessExpiration - now;

            if (timeLeft <= 0) {
                accessTimeLeftElement.textContent = 'EXPIRED';
                return;
            }

            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            const timeString = `${days}d ${hours}h ${minutes}m ${seconds}s`;
            accessTimeLeftElement.textContent = timeString;
        }

        // Modal Functions
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('show');
            }
        });

        // Handle window resize for mobile
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                document.getElementById('sidebar').classList.remove('open');
            }
        });

        // Sidebar Resize Observer
        function setupSidebarResizeObserver() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');

            if (sidebar && mainContent) {
                const resizeObserver = new ResizeObserver(entries => {
                    for (let entry of entries) {
                        if (entry.target === sidebar) {
                            const sidebarWidth = entry.contentRect.width;
                            document.body.style.setProperty('--sidebar-width', `${sidebarWidth}px`);
                            mainContent.style.marginLeft = `${sidebarWidth}px`;
                        }
                    }
                });

                resizeObserver.observe(sidebar);
            }
        }

        // Tools Dropdown Toggle
        function toggleToolsDropdown() {
            const toolsDropdown = document.getElementById('toolsDropdown');
            toolsDropdown.classList.toggle('open');
        }
    </script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const iconMap = {
    'icon-home': 'fa-house',
    'icon-gamepad': 'fa-gamepad',
    'icon-script': 'fa-scroll',
    'icon-document': 'fa-file-lines',
    'icon-lightning': 'fa-bolt',
    'icon-settings': 'fa-gear',
    'icon-ticket': 'fa-ticket',
    'icon-question': 'fa-circle-question',
    'icon-users': 'fa-users',
    'icon-clipboard': 'fa-clipboard',
    'icon-user': 'fa-user',
    'icon-clock': 'fa-clock',
    'icon-star': 'fa-star',
    'icon-check': 'fa-check',
    'icon-camera': 'fa-camera',
    'icon-lock': 'fa-lock',
    'icon-error': 'fa-xmark'
  };

  for (const cls in iconMap) {
    document.querySelectorAll(`.${cls}`).forEach(el => {
      const icon = document.createElement('i');
      icon.className = `fa-solid ${iconMap[cls]}`;
      icon.style.marginRight = '8px';
      el.innerHTML = '';
      el.appendChild(icon);
    });
  }
});
</script>


<script>
  // This script block is no longer needed as its functionality is integrated into the main script.
  // Keeping it here as a placeholder to indicate it was addressed.
  // document.addEventListener("DOMContentLoaded", function () {
  //   const usernameKey = "galaxia_roblox_user";
  //   const input = document.getElementById("roblox-username");
  //   const saveBtn = document.getElementById("save-username");
  //   const display = document.getElementById("connected-username");
  //   const executorContent = document.getElementById("executor-content");

  //   function updateUI() {
  //     const stored = localStorage.getItem(usernameKey);
  //     if (stored) {
  //       input.style.display = "none";
  //       saveBtn.style.display = "none";
  //       display.innerHTML = "Currently Connected: <b>" + stored + "</b> <button id='change-username'>Change Account</button>";
  //       executorContent.style.display = "block";
  //       document.getElementById("change-username").onclick = () => {
  //         localStorage.removeItem(usernameKey);
  //         location.reload();
  //       };
  //     } else {
  //       display.innerHTML = "";
  //       executorContent.style.display = "none";
  //     }
  //   }

  //   saveBtn.onclick = () => {
  //     const val = input.value.trim();
  //     if (val !== "") {
  //       localStorage.setItem(usernameKey, val);
  //       updateUI();
  //     }
  //   };

  //   updateUI();
  // });
</script>


<script>
function switchSection(section) {
    if (section === 'executor') {
        const username = localStorage.getItem('robloxUsername');
        if (!username) {
            const modal = document.getElementById('connectModal');
            modal.classList.add('show');
            return;
        }
    }
    const sections = document.querySelectorAll('.content-section');
    sections.forEach(sec => sec.classList.remove('active'));
    document.getElementById(section + 'Section').classList.add('active');
}
</script>


<div class="modal" id="connectModal">
  <div class="modal-content">
    <div class="modal-title">Connection Required</div>
    <p class="discord-message">You need to connect your Roblox account to access the Executor.</p>
    <div class="modal-buttons">
      <button class="btn" onclick="document.getElementById('connectModal').classList.remove('show')">Okay</button>
    </div>
  </div>
</div>


<div class="modal" id="orderModal">
  <div class="modal-content">
    <div class="modal-title">Missing Information</div>
    <p class="discord-message">Please fill in all the fields before generating an order.</p>
    
<div class="modal-buttons">
  <button class="btn btn-secondary" onclick="document.getElementById('orderModal').classList.remove('show')">Close</button>
  <button class="btn" onclick="document.getElementById('orderModal').classList.remove('show')">Generate Order</button>
</div>

  </div>
</div>


<script>
function showOrderError() {
  document.getElementById('orderModal').classList.add('show');
}
</script>

</body>
</html>
